<!DOCTYPE html>
<html>
<head>
    <title>Rest Client</title>
	<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="../Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../Content/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />

    <!-- jQuery -->
    <script src="../Scripts/jquery-2.1.4.js"></script>

    <!-- Bootstrap JS -->
    <script src="../Scripts/bootstrap.min.js"></script>

    <style>
        .bs-example {
            margin:20px;
        }
    </style>

    <script>

        $(function () {

            console.log("DOM ready.");

            $("#readbtn").on("click", readData);
        });

        function readData() {

            var restUrl = window.location.origin;
            console.log("REStful WCLF Service Base URL: " + restUrl);

            var value = "73";
            var readUrl = restUrl + "/RESTfulService.svc/Data/" + value;


            $.ajax({
                type: "GET",
                url: readUrl,
                contentType: "json",
                dataType: "json",
                success: function (data) {

                    console.log(data);

                    var $table = $('#dataTable');
                    var $tableBody = $table.find('tbody');

                    $.each(data, function (index, item) {
                        
                        var boolValue = item.BoolValue;
                        var stringValue = item.StringValue;
                        
                        var htmlTableRow =
                            "<tr>" +
                            "<td>" + boolValue + "</td>" +
                                "<td>" + stringValue + "</td>" +
                                "<td>" +
                                    "<div class=\"btn-toolbar\">" +
                                        "<div class=\"btn-group\">" +
                                            "<button type=\"button\" class=\"btn btn-primary disabled\">Edit</button>" +
                                            "<button type=\"button\" class=\"btn btn-primary disabled\">Delete</button>" +
                                        "</div>" +
                                    "</div>" +
                                "</td>" +
                            "</tr>";

                        $tableBody.append(htmlTableRow);
                    });
                },
                error: function (xhr) {
                    alert(xhr.responseText);
                }
            });
        }

    </script>
</head>
<body>

    <div class="container">

        <!-- Top Row -->
        <div class="row">
            <div class="col-sm-12">
                <div class="bs-example">
                    <div class="btn-toolbar">
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary" id="readbtn">GetData(Json)</button>
                            <button type="button" class="btn btn-primary disabled">GetData(XML)</button>                        
                        </div>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary disabled">AddData(Json)</button>
                            <button type="button" class="btn btn-primary disabled">AddData(XML)</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Bottom Row -->
        <div class="row">
            <div class="col-sm-12">

                <!-- display table of ajax data -->
                <div class="bs-example">
                    <table class="table table-striped" id="dataTable">
                        <thead>
                            <tr>
                                <th>BoolValue</th>
                                <th>StringValue</th>
                                <th>Modify</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>true</td>
                                <td>John</td>
                                <td>
                                    <div class="btn-toolbar">
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-primary disabled">Edit</button>
                                            <button type="button" class="btn btn-primary disabled">Delete</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>false</td>
                                <td>Peter</td>
                                <td>
                                    <div class="btn-toolbar">
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-primary disabled">Edit</button>
                                            <button type="button" class="btn btn-primary disabled">Delete</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
